<!DOCTYPE html><!--oGorGsoYB9jQvndoxKQEo--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/d030d367e034049b.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-6e1697fef140febb.js"/><script src="/_next/static/chunks/72d9b9fe-881c608dfd3d6075.js" async=""></script><script src="/_next/static/chunks/59-ac558f0723878dde.js" async=""></script><script src="/_next/static/chunks/main-app-52c49b64f0218f99.js" async=""></script><script src="/_next/static/chunks/102969c4-60ccef36263800a0.js" async=""></script><script src="/_next/static/chunks/64d1c0c4-a3ef1c2074d5cee5.js" async=""></script><script src="/_next/static/chunks/205-e96f68d7203b15f6.js" async=""></script><script src="/_next/static/chunks/3-63e812f17dc5f3c8.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bslug%5D/page-149ed8916e948834.js" async=""></script><script src="/_next/static/chunks/app/layout-6e1c24235b3dba30.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-077BT1Q7PJ" as="script"/><title>FIDO2 Passkeys for Android: Backend Challenges in Python | Augustin Chan</title><meta name="description" content="A developer&#x27;s journey through the challenges of implementing FIDO2 passkeys for an Android app using Python, covering assetlinks.json, data serialization, and Base64URL encoding."/><link rel="author" href="https://augustinchan.dev"/><meta name="author" content="Augustin Chan"/><meta name="keywords" content="AI,Machine Learning,Web3,Software Engineering,React,Next.js,TypeScript,Blog"/><meta name="creator" content="Augustin Chan"/><meta name="publisher" content="Augustin Chan"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><link rel="canonical" href="https://augustinchan.dev/posts/2025-05-14-Challenges-with-Passkey-Android"/><meta property="og:title" content="FIDO2 Passkeys for Android: Backend Challenges in Python"/><meta property="og:description" content="A developer&#x27;s journey through the challenges of implementing FIDO2 passkeys for an Android app using Python, covering assetlinks.json, data serialization, and Base64URL encoding."/><meta property="og:url" content="https://augustinchan.dev/posts/2025-05-14-Challenges-with-Passkey-Android"/><meta property="og:site_name" content="Augustin Chan"/><meta property="og:locale" content="en_US"/><meta property="og:image" content="https://augustinchan.dev/img/Xrn0Id68_400x400.jpg"/><meta property="og:image:width" content="400"/><meta property="og:image:height" content="400"/><meta property="og:image:alt" content="FIDO2 Passkeys for Android: Backend Challenges in Python"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-05-14T00:00:00.000Z"/><meta property="article:author" content="Augustin Chan"/><meta property="article:section" content="Technology"/><meta property="article:tag" content="AI"/><meta property="article:tag" content="Machine Learning"/><meta property="article:tag" content="Web3"/><meta property="article:tag" content="Software Engineering"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@augchan42"/><meta name="twitter:title" content="FIDO2 Passkeys for Android: Backend Challenges in Python"/><meta name="twitter:description" content="A developer&#x27;s journey through the challenges of implementing FIDO2 passkeys for an Android app using Python, covering assetlinks.json, data serialization, and Base64URL encoding."/><meta name="twitter:image" content="https://augustinchan.dev/img/Xrn0Id68_400x400.jpg"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><div hidden=""><!--$--><!--/$--></div><div style="max-width:1000px;margin:0 auto;padding:2rem"><header style="border-bottom:2px solid #333;padding-bottom:1rem;margin-bottom:2rem"><nav style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem"><div><a style="font-size:1.6rem;font-weight:bold;text-decoration:none;color:#333" href="/">Augustin Chan</a><div style="margin-top:0.5rem">Building systems that reason</div></div><div style="display:flex;gap:1.5rem;flex-wrap:wrap"><a style="text-decoration:none;color:#666" href="/about">About</a><a style="text-decoration:none;color:#666" href="/blog">Blog</a><a href="https://8bitoracle.ai" target="_blank" rel="noopener noreferrer" style="text-decoration:none;color:#666">8-Bit Oracle</a></div></nav></header><main><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"FIDO2 Passkeys for Android: Backend Challenges in Python","description":"A developer's journey through the challenges of implementing FIDO2 passkeys for an Android app using Python, covering assetlinks.json, data serialization, and Base64URL encoding.","datePublished":"2025-05-14T00:00:00.000Z","dateModified":"2025-05-14T00:00:00.000Z","author":{"@type":"Person","name":"Augustin Chan","url":"https://augustinchan.dev","sameAs":["https://x.com/augchan42","https://github.com/augchan42"]},"publisher":{"@type":"Person","name":"Augustin Chan","url":"https://augustinchan.dev"},"url":"https://augustinchan.dev/posts/2025-05-14-Challenges-with-Passkey-Android","mainEntityOfPage":{"@type":"WebPage","@id":"https://augustinchan.dev/posts/2025-05-14-Challenges-with-Passkey-Android"},"image":"https://augustinchan.dev/img/Xrn0Id68_400x400.jpg"}</script><article><header style="margin-bottom:2rem"><h1 style="font-size:2.5em;margin-bottom:0.5rem">FIDO2 Passkeys for Android: Backend Challenges in Python</h1><div style="color:#666;font-size:1em;margin-bottom:1rem">May 14, 2025</div><p style="font-size:1.1em;color:#555;font-style:italic;margin-bottom:2rem">A developer&#x27;s journey through the challenges of implementing FIDO2 passkeys for an Android app using Python, covering assetlinks.json, data serialization, and Base64URL encoding.</p></header><div>Loading...</div><aside style="margin-top:4rem;padding-top:2rem;border-top:2px solid #ddd"><h2 style="font-size:1.5em;margin-bottom:1.5rem">Related Posts</h2><div style="display:flex;flex-direction:column;gap:1.5rem"><article style="padding:1.25rem;border:1px solid #ddd;border-radius:8px;background-color:#fafafa"><a style="font-size:1.1em;font-weight:bold;text-decoration:none;color:#333" href="/posts/2025-09-27-llm-reasoning-pattern-classification-failure-modes">When LLM Reasoning Becomes the Pattern - Meta-Classification Failure Modes</a><p style="font-size:0.95em;color:#555;margin:0.5rem 0 0 0;line-height:1.5">Hard constraints beat soft self-regulation when an LLM&#x27;s reasoning converges to a template.</p><div style="font-size:0.85em;color:#888;margin-top:0.5rem">September 27, 2025</div></article><article style="padding:1.25rem;border:1px solid #ddd;border-radius:8px;background-color:#fafafa"><a style="font-size:1.1em;font-weight:bold;text-decoration:none;color:#333" href="/posts/2025-09-21-evolutionary-adrs-first-principles">Evolutionary ADRs: Writing Architecture Decision Records from First Principles</a><p style="font-size:0.95em;color:#555;margin:0.5rem 0 0 0;line-height:1.5">Why creating ADRs during development, not before it, leads to more honest and valuable documentation of your architectural decisions.</p><div style="font-size:0.85em;color:#888;margin-top:0.5rem">September 21, 2025</div></article><article style="padding:1.25rem;border:1px solid #ddd;border-radius:8px;background-color:#fafafa"><a style="font-size:1.1em;font-weight:bold;text-decoration:none;color:#333" href="/posts/hello-nextra">Hello Nextra</a><p style="font-size:0.95em;color:#555;margin:0.5rem 0 0 0;line-height:1.5">Welcome to my new blog powered by Next.js and Nextra</p><div style="font-size:0.85em;color:#888;margin-top:0.5rem">September 21, 2025</div></article></div></aside></article><!--$--><!--/$--></main><footer style="border-top:1px solid #ddd;padding-top:2rem;margin-top:4rem;text-align:center;color:#666">© 2025 Augustin Chan aug@digitalrain.studio</footer></div><script>
            // Service worker cleanup for legacy site versions
            if ('serviceWorker' in navigator) {
              navigator.serviceWorker.getRegistrations().then(function(registrations) {
                for(let registration of registrations) {
                  registration.unregister();
                }
              });

              // Register cleanup service worker
              navigator.serviceWorker.register('/sw.js').then(function(registration) {
                console.log('Cleanup SW registered');
              }).catch(function(error) {
                console.log('Cleanup SW registration failed');
              });
            }
          </script><script src="/_next/static/chunks/webpack-6e1697fef140febb.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[9586,[\"97\",\"static/chunks/102969c4-60ccef36263800a0.js\",\"28\",\"static/chunks/64d1c0c4-a3ef1c2074d5cee5.js\",\"205\",\"static/chunks/205-e96f68d7203b15f6.js\",\"3\",\"static/chunks/3-63e812f17dc5f3c8.js\",\"858\",\"static/chunks/app/posts/%5Bslug%5D/page-149ed8916e948834.js\"],\"\"]\n3:I[4308,[],\"\"]\n4:I[834,[],\"\"]\n5:I[560,[\"205\",\"static/chunks/205-e96f68d7203b15f6.js\",\"177\",\"static/chunks/app/layout-6e1c24235b3dba30.js\"],\"\"]\n6:I[8641,[\"205\",\"static/chunks/205-e96f68d7203b15f6.js\",\"177\",\"static/chunks/app/layout-6e1c24235b3dba30.js\"],\"Analytics\"]\nb:I[9216,[],\"\"]\n:HL[\"/_next/static/css/d030d367e034049b.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"oGorGsoYB9jQvndoxKQEo\",\"p\":\"\",\"c\":[\"\",\"posts\",\"2025-05-14-Challenges-with-Passkey-Android\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"2025-05-14-Challenges-with-Passkey-Android\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d030d367e034049b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"div\",null,{\"style\":{\"maxWidth\":\"1000px\",\"margin\":\"0 auto\",\"padding\":\"2rem\"},\"children\":[[\"$\",\"header\",null,{\"style\":{\"borderBottom\":\"2px solid #333\",\"paddingBottom\":\"1rem\",\"marginBottom\":\"2rem\"},\"children\":[\"$\",\"nav\",null,{\"style\":{\"display\":\"flex\",\"justifyContent\":\"space-between\",\"alignItems\":\"center\",\"flexWrap\":\"wrap\",\"gap\":\"1rem\"},\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/\",\"style\":{\"fontSize\":\"1.6rem\",\"fontWeight\":\"bold\",\"textDecoration\":\"none\",\"color\":\"#333\"},\"children\":\"Augustin Chan\"}],[\"$\",\"div\",null,{\"style\":{\"marginTop\":\"0.5rem\"},\"children\":\"Building systems that reason\"}]]}],[\"$\",\"div\",null,{\"style\":{\"display\":\"flex\",\"gap\":\"1.5rem\",\"flexWrap\":\"wrap\"},\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/about\",\"style\":{\"textDecoration\":\"none\",\"color\":\"#666\"},\"children\":\"About\"}],[\"$\",\"$L2\",null,{\"href\":\"/blog\",\"style\":{\"textDecoration\":\"none\",\"color\":\"#666\"},\"children\":\"Blog\"}],[\"$\",\"a\",null,{\"href\":\"https://8bitoracle.ai\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"style\":{\"textDecoration\":\"none\",\"color\":\"#666\"},\"children\":\"8-Bit Oracle\"}]]}]]}]}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"style\":{\"borderTop\":\"1px solid #ddd\",\"paddingTop\":\"2rem\",\"marginTop\":\"4rem\",\"textAlign\":\"center\",\"color\":\"#666\"},\"children\":\"© 2025 Augustin Chan aug@digitalrain.studio\"}]]}],[[\"$\",\"$L5\",null,{\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-077BT1Q7PJ\",\"strategy\":\"afterInteractive\"}],[\"$\",\"$L5\",null,{\"id\":\"google-analytics\",\"strategy\":\"afterInteractive\",\"children\":\"\\n          window.dataLayer = window.dataLayer || [];\\n          function gtag(){dataLayer.push(arguments);}\\n          gtag('js', new Date());\\n          gtag('config', 'G-077BT1Q7PJ');\\n        \"}]],[\"$\",\"$L6\",null,{}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n            // Service worker cleanup for legacy site versions\\n            if ('serviceWorker' in navigator) {\\n              navigator.serviceWorker.getRegistrations().then(function(registrations) {\\n                for(let registration of registrations) {\\n                  registration.unregister();\\n                }\\n              });\\n\\n              // Register cleanup service worker\\n              navigator.serviceWorker.register('/sw.js').then(function(registration) {\\n                console.log('Cleanup SW registered');\\n              }).catch(function(error) {\\n                console.log('Cleanup SW registration failed');\\n              });\\n            }\\n          \"}}]]}]}]]}],{\"children\":[\"posts\",\"$L7\",{\"children\":[[\"slug\",\"2025-05-14-Challenges-with-Passkey-Android\",\"d\"],\"$L8\",{\"children\":[\"__PAGE__\",\"$L9\",{},null,false]},null,false]},null,false]},null,false],\"$La\",false]],\"m\":\"$undefined\",\"G\":[\"$b\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"d:I[7921,[],\"OutletBoundary\"]\nf:I[2140,[],\"AsyncMetadataOutlet\"]\n11:I[7921,[],\"ViewportBoundary\"]\n13:I[7921,[],\"MetadataBoundary\"]\n14:\"$Sreact.suspense\"\n7:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n8:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n9:[\"$\",\"$1\",\"c\",{\"children\":[\"$Lc\",null,[\"$\",\"$Ld\",null,{\"children\":[\"$Le\",[\"$\",\"$Lf\",null,{\"promise\":\"$@10\"}]]}]]}]\na:[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$L11\",null,{\"children\":\"$L12\"}],null],[\"$\",\"$L13\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$14\",null,{\"fallback\":null,\"children\":\"$L15\"}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"16:I[7702,[\"97\",\"static/chunks/102969c4-60ccef36263800a0.js\",\"28\",\"static/chunks/64d1c0c4-a3ef1c2074d5cee5.js\",\"205\",\"static/chunks/205-e96f68d7203b15f6.js\",\"3\",\"static/chunks/3-63e812f17dc5f3c8.js\",\"858\",\"static/chunks/app/posts/%5Bslug%5D/page-149ed8916e948834.js\"],\"default\",1]\n17:T46c0,"])</script><script>self.__next_f.push([1,"\n\n**Abstract:**  \nThis post details a developer's journey through the backend challenges of implementing FIDO2 passkeys for an Android application using a Python backend. It covers critical aspects such as correctly configuring `assetlinks.json` for app-to-website association, handling data serialization for credential options and responses, and the nuances of Base64URL encoding/decoding required by the WebAuthn specification.\n\n**Estimated reading time:** _14 minutes_\n\n# Implementing FIDO2 Passkeys for Android: A Developer's Journey\n\nIntegrating FIDO2 passkeys into an application can significantly enhance security and user experience. However, the journey, especially on the backend, can present subtle challenges. This post is the first of two detailing my experiences implementing passkey support for an Android (Kotlin) frontend with a Python backend. Here, I'll focus on the backend challenges I faced and how I navigated them.\n\n## Key Challenges \u0026 Solutions\n\n### 1. Navigating `assetlinks.json`: Verification is Crucial\n\nOne of the first and most critical pieces for making passkeys work with an Android app is the Digital Asset Links file (`assetlinks.json`).\n\n**The Problem:** FIDO2 and WebAuthn rely heavily on `assetlinks.json` to verify the association between your web service (the Relying Party ID) and your native Android application. If this isn't configured perfectly, passkey operations like creation will fail, often with unhelpful generic errors on the client, such as \"No create options available.\"\n\n**My Journey:**\n\n- I started by adding the initial `assetlinks.json`.\n- Things got tricky when I switched to a new development machine, which meant a new certificate fingerprint. This required an update to `assetlinks.json`, highlighting the need to manage fingerprints for all relevant build and signing configurations (debug, release, different development machines).\n- I further refined the file by cleaning up unused entries. It's crucial that only necessary associations are present. A key learning here was that _each specific app variant_ (e.g., `demo.debug` vs. `debug` vs. `release`) needs its own entry if its package name or signing certificate differs.\n\n\u003e Getting `assetlinks.json` right is your first major checkpoint. Test it thoroughly for all app variants and build configurations. Small mistakes here can lead to significant problems later.\n\nYou can typically host this file at `/.well-known/assetlinks.json` on your domain.\n\n### Android Passkey Digital Asset Links Setup\n\nTo enable seamless passkey authentication between your website (Relying Party) and your Android application, you need to establish a secure association between them. This is achieved using Digital Asset Links (DAL).\n\nThis guide will walk you through generating the necessary information for your `assetlinks.json` file, focusing on the `demoDebug` build variant of the PeepsApp.\n\n#### 1. Identify Your Build Variant and Package Name\n\nFor passkeys to work, the `package_name` in your `assetlinks.json` file must exactly match the `applicationId` of your Android app build variant that will be handling passkey operations.\n\n- **Target Build Variant:** For development and testing, we are focusing on the `demoDebug` variant.\n- **Application ID for `demoDebug`:**\n  - The base `applicationId` is `ai.peepsapp.peopleapp`.\n  - The `debug` build type adds an `applicationIdSuffix` (e.g., `.debug`).\n  - The `demo` product flavor might also influence the final ID (in this project, it uses the `NiaFlavorDimension.contentType`).\n  - Based on the project structure (forked from \"Now in Android\" which uses `buildType.applicationIdSuffix` and flavor dimensions), the `applicationId` for `demoDebug` is typically `ai.peepsapp.peopleapp.demo.debug`. **Always verify this in your `app/build.gradle.kts` or by checking the generated `AndroidManifest.xml` for that specific variant.**\n\n\u003e ℹ️ **Note:** While different `debug` variants (like `prodDebug` if it exists) will use the same debug signing certificate, their `applicationId` might differ if product flavors change it. Ensure the `package_name` in `assetlinks.json` corresponds to the specific `applicationId` you are targeting.\n\n#### 2. Obtain the SHA-256 Certificate Fingerprint\n\nThe `assetlinks.json` file requires the SHA-256 fingerprint of the signing certificate used for your Android app.\n\n##### Primary Method: Gradle `signingReport`\n\nThis is the recommended way to get the fingerprint.\n\n1.  Open your terminal in the project root directory.\n2.  Run the `signingReport` task:\n    ```bash\n    ./gradlew :app:signingReport\n    ```\n3.  If the above command fails due to a configuration cache issue (you might see an error like `Could not load the value of field dslSigningConfig`), try running it without the configuration cache:\n    ```bash\n    ./gradlew :app:signingReport --no-configuration-cache\n    ```\n4.  If you still encounter issues, try cleaning the project first:\n    ```bash\n    ./gradlew clean\n    ./gradlew :app:signingReport --no-configuration-cache # Or without the flag if clean fixed it\n    ```\n5.  In the output, look for the section corresponding to `Variant: demoDebug`. The debug keystore (`~/.android/debug.keystore`) is typically shared across all debug builds.\n    You need the **SHA-256** value. It will look like this:\n    `SHA-256: 6B:D3:BC:92:BD:94:4C:9E:5A:D1:75:39:DC:E5:ED:62:05:F1:79:B3:FD:7A:03:1B:8F:54:1B:83:FD:1D:2B:83`\n\n##### Alternative Method: `keytool`\n\nIf the Gradle task is problematic, you can use `keytool` (a Java utility) directly. This is for the default debug keystore.\n\n- **On Windows (Command Prompt or PowerShell):**\n  ```shell\n  keytool -list -v -keystore \"%USERPROFILE%\\\\.android\\\\debug.keystore\" -alias androiddebugkey -storepass android -keypass android\n  ```\n- **On Linux/macOS or WSL (Terminal):**\n  ```bash\n  keytool -list -v -keystore ~/.android/debug.keystore -alias androiddebugkey -storepass android -keypass android\n  ```\n  (If accessing the Windows keystore from WSL, the path might be `/mnt/c/Users/YourWindowsUser/.android/debug.keystore`)\n\nIn the output, find the \"Certificate fingerprints\" section and copy the `SHA256` value.\n\n#### 3. Create Your `assetlinks.json` File\n\nCreate a file named `assetlinks.json` with the following content.\n\n```json\n[\n  {\n    \"relation\": [\n      \"delegate_permission/common.handle_all_urls\",\n      \"delegate_permission/common.get_login_creds\"\n    ],\n    \"target\": {\n      \"namespace\": \"android_app\",\n      \"package_name\": \"ai.peepsapp.peopleapp.demo.debug\",\n      \"sha256_cert_fingerprints\": [\"YOUR_SHA256_FINGERPRINT_HERE\"]\n    }\n  }\n]\n```\n\n**Important:**\n\n- Replace `\"ai.peepsapp.peopleapp.demo.debug\"` with the correct `applicationId` for your target build variant if it differs.\n- Replace `\"YOUR_SHA256_FINGERPRINT_HERE\"` with the actual SHA-256 fingerprint you obtained in Step 2 (e.g., `\"6B:D3:BC:92:BD:94:4C:9E:5A:D1:75:39:DC:E5:ED:62:05:F1:79:B3:FD:7A:03:1B:8F:54:1B:83:FD:1D:2B:83\"`).\n- The `relation` array includes:\n  - `delegate_permission/common.handle_all_urls`: Standard for app linking.\n  - `delegate_permission/common.get_login_creds`: Essential for passkey/credential manager operations.\n\n#### 4. Host the `assetlinks.json` File\n\nYour web server must host this `assetlinks.json` file at the following specific location:\n\n`https://your.domain.com/.well-known/assetlinks.json`\n\n- Replace `your.domain.com` with your actual domain (for this project, it's `stage.peepsapp.ai`).\n- The file must be accessible via HTTPS.\n- The server should serve this file with the `Content-Type: application/json` HTTP header.\n\n##### Updating in Your `peepsAPI` Server Project\n\nFor this project, the `assetlinks.json` file is in the peepsAPI project at `peepsAPI/static/.well-known/assetlinks.json`.\n\n1.  **Edit the file:** Open the `assetlinks.json` file in your `peepsAPI` project.\n2.  **Add the new fingerprint:** Your existing file might already have one or more fingerprints. You need to add the SHA-256 fingerprint obtained in Step 2 to the `sha256_cert_fingerprints` array for the `ai.peepsapp.peopleapp.demo.debug` package.\n\n    For example, if your `assetlinks.json` looks like this (as seen on [https://stage.peepsapp.ai/.well-known/assetlinks.json](https://stage.peepsapp.ai/.well-known/assetlinks.json)):\n\n    ```json\n    [\n      {\n        \"relation\": [\n          \"delegate_permission/common.handle_all_urls\",\n          \"delegate_permission/common.get_login_creds\"\n        ],\n        \"target\": {\n          \"namespace\": \"android_app\",\n          \"package_name\": \"ai.peepsapp.peopleapp.demo.debug\",\n          \"sha256_cert_fingerprints\": [\n            \"BA:6E:84:EF:CC:B2:53:8A:49:DE:AD:F0:8A:4B:38:4F:A7:64:3D:09:8D:CD:84:86:3B:CF:95:B8:27:68:7A:EA\"\n          ]\n        }\n      }\n    ]\n    ```\n\n    You would add your new fingerprint (e.g., `\"6B:D3:BC:92:BD:94:4C:9E:5A:D1:75:39:DC:E5:ED:62:05:F1:79:B3:FD:7A:03:1B:8F:54:1B:83:FD:1D:2B:83\"`) to the array:\n\n    ```json\n    [\n      {\n        \"relation\": [\n          \"delegate_permission/common.handle_all_urls\",\n          \"delegate_permission/common.get_login_creds\"\n        ],\n        \"target\": {\n          \"namespace\": \"android_app\",\n          \"package_name\": \"ai.peepsapp.peopleapp.demo.debug\",\n          \"sha256_cert_fingerprints\": [\n            \"BA:6E:84:EF:CC:B2:53:8A:49:DE:AD:F0:8A:4B:38:4F:A7:64:3D:09:8D:CD:84:86:3B:CF:95:B8:27:68:7A:EA\",\n            \"6B:D3:BC:92:BD:94:4C:9E:5A:D1:75:39:DC:E5:ED:62:05:F1:79:B3:FD:7A:03:1B:8F:54:1B:83:FD:1D:2B:83\"\n          ]\n        }\n      }\n    ]\n    ```\n\n3.  **Commit and Create a Pull Request:** Commit this change to your `peepsAPI` project and create a Pull Request to deploy it to your server environment (e.g., `stage.peepsapp.ai`).\n\n##### Confirming the Update\n\nAfter your changes to `assetlinks.json` have been deployed to the server:\n\n1.  Open your web browser.\n2.  Navigate to `https://stage.peepsapp.ai/.well-known/assetlinks.json`.\n3.  Perform a hard refresh (e.g., Ctrl+Shift+R or Cmd+Shift+R) to ensure you're not seeing a cached version.\n4.  Verify that the newly added SHA-256 fingerprint is present in the JSON content.\n\n#### 5. Verification (Optional but Recommended)\n\nYou can use Google's Digital Asset Links API to verify your setup. Construct a URL like this in your browser:\n\n`https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://your.domain.com\u0026relation=delegate_permission/common.get_login_creds`\n\n(Replace `your.domain.com` with your domain).\n\nIf successful, you should see a JSON response that includes the information from your `assetlinks.json` file, confirming the association.\n\n#### Important Considerations\n\n- **Release Builds:** When you create a `release` build of your app, it will be signed with a different (release) keystore. You will need to:\n  1.  Obtain the SHA-256 fingerprint of your **release certificate**.\n  2.  Add a new entry to your `assetlinks.json` file (or create a separate one for your production domain) with the release `package_name` (e.g., `ai.peepsapp.peopleapp` or `ai.peepsapp.peopleapp.demo` if it has a release suffix) and its corresponding SHA-256 fingerprint.\n- **Multiple `applicationId`s:** If you have different product flavors that result in distinct `applicationId`s and you want them all to support passkeys with the same web domain, you'll need to add a separate entry (a new JSON object within the top-level array) in the `assetlinks.json` for each `package_name` and its corresponding certificate fingerprint(s).\n- **Caching:** Changes to `assetlinks.json` might take some time to propagate or for Google Play Services to re-fetch, due to caching.\n\nThis setup is crucial for the Android Credential Manager to securely associate your app with your website for passkey operations.\n\n### 2. Dealing with `UnicodeDecodeError`: Serializing Binary Data\n\nFIDO2 operations involve a lot of binary data. Getting this data from a Python backend to a JSON-consuming client requires careful handling.\n\n**The Problem:** FIDO2 libraries generate options (for registration and authentication) containing binary data, such as the `challenge` and credential `id`s. When these options are sent as JSON from a Python backend (I was using FastAPI), this binary data _must_ be encoded into a string format. The standard here is Base64URL. If you fail to do this, or use the wrong Base64 variant (e.g., standard Base64 instead of Base64URL), you'll likely encounter `UnicodeDecodeError` when the JSON serializer (like Pydantic in FastAPI) tries to process raw bytes.\n\n**My Journey:**\n\n- I first encountered this issue during the implementation of registration and recovery flows. The fix involved ensuring consistent Base64URL encoding.\n- Later, the same problem resurfaced for login flows, emphasizing that this encoding step needs to be applied universally wherever FIDO2 option objects are prepared for API responses.\n\n**The Solution Involved Two Main Parts:**\n\n**Part 1: Converting FIDO2 Objects to Dictionaries**\nThe Python objects generated by FIDO2 libraries (e.g., `PublicKeyCredentialCreationOptions` or `PublicKeyCredentialRequestOptions` from `python-fido2`) aren't directly serializable to JSON. They need to be converted to Python dictionaries first.\n\nI developed a pattern to robustly convert these objects:\n\n```python\n# In my ChallengeService, when creating authentication options:\n# auth_data is a PublicKeyCredentialRequestOptions object from self.server.authenticate_begin(...)\n\nauth_data_as_dict: dict\nif hasattr(auth_data, \"data\") and isinstance(auth_data.data, dict):\n    auth_data_as_dict = auth_data.data\nelif hasattr(auth_data, \"_asdict\") and callable(auth_data._asdict):\n    auth_data_as_dict = auth_data._asdict()\nelse:\n    try:\n        # This is often the most direct way for fido2.webauthn objects\n        auth_data_as_dict = dict(auth_data)\n    except TypeError:\n        # Log a warning and process as is, hoping for the best in the next step.\n        # It's much better if conversion to dict succeeds here.\n        print(\n            f\"WARN: Could not convert auth_data of type {type(auth_data)} to dict directly. Processing as is.\"\n        )\n        auth_data_as_dict = auth_data # Fallback\n```\n\nThis approach checks for common attributes like `.data` or methods like `._asdict()` and falls back to a direct `dict()` conversion, which often works for `fido2.webauthn` objects.\n\n**Part 2: Recursive Base64URL Encoding**\nOnce I had a dictionary, I needed to ensure all `bytes` within it (even in nested structures) were Base64URL encoded. I used a helper function for this:\n\n```python\nimport base64\nfrom typing import Any\n\ndef _process_fido_data_for_json(data: Any) -\u003e Any:\n    if isinstance(data, bytes):\n        # Use Base64URL encoding and remove padding\n        return base64.urlsafe_b64encode(data).decode(\"utf-8\").rstrip(\"=\")\n    elif isinstance(data, dict):\n        return {k: _process_fido_data_for_json(v) for k, v in data.items()}\n    elif isinstance(data, list):\n        return [_process_fido_data_for_json(item) for item in data]\n    else:\n        return data\n\n# Usage in the service:\n# auth_data_json = _process_fido_data_for_json(auth_data_as_dict)\n# This auth_data_json is now safe to return from a FastAPI endpoint.\n```\n\n\u003e **Critical Note:** Always use `base64.urlsafe_b64encode` and `rstrip(\"=\")` for FIDO2. Standard Base64 (`base64.b64encode`) will not work correctly as it can contain characters (`+`, `/`) that are problematic in URLs and some JSON parsers without further escaping.\n\nSerialization is subtle. Converting complex library objects to JSON requires care. Ensure they are fully transformed into basic Python dicts/lists with string-encoded binary data _before_ your web framework's serializer (like FastAPI/Pydantic) sees them.\n\n### 3. Client-Server Communication: Deciphering Error Messages\n\nFIDO2 flows involve multiple interactions between the client and server. Errors can originate on either side, and client-side errors can sometimes be frustratingly cryptic if the root cause is a server-side error.\n\n**My Journey:**\n\n- The aforementioned \"No create options available\" error on Android was a prime example. This led me back to scrutinizing the `assetlinks.json` file and the server-side challenge generation logic.\n- Another instance was encountering a `MissingFieldException` on the Android client. This occurred when the server's response to a verification request wasn't structured exactly as the client expected, highlighting the importance of a clear and consistent API contract. Specifically, ensuring the server response always included a `status` field resolved this.\n\n\u003e Client-side error messages can be misleading. It's vital to dig deep. A client error might be a symptom of a server-side problem. Implementing comprehensive logging for server-side request/response details during FIDO2 operations is invaluable for debugging.\n\n## Key Backend Takeaways\n\nImplementing FIDO2 passkeys was a learning curve, but these were some of my main takeaways for the backend portion:\n\n- **`assetlinks.json` is foundational:** Get it right, test it thoroughly, and understand its implications for different app variants and build configurations.\n- **Embrace Base64URL:** Understand when and where to encode and decode. Using binary data directly in JSON will likely cause problems. Always use the URL-safe variant of Base64.\n- **Serialization requires diligence:** Ensure FIDO2 library objects are properly converted to JSON-friendly Python dictionaries with all binary data correctly encoded _before_ they hit your API response Pydantic models.\n- **Test the full flow relentlessly:** An error in one step (e.g., challenge generation) can manifest in a later step (e.g., during verification).\n- **Treat client errors as potential server signals:** Don't just assume the client is wrong. Robust server-side logging and a willingness to investigate server behavior based on client errors are crucial.\n\nIn the next post, I'll dive into the Android (Kotlin) frontend challenges of this passkey implementation journey!\n\n\\*\\*Disclaimer - Google Gemini 2.5 Pro Exp was used to help write this blog post.\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BlogPosting\\\",\\\"headline\\\":\\\"FIDO2 Passkeys for Android: Backend Challenges in Python\\\",\\\"description\\\":\\\"A developer's journey through the challenges of implementing FIDO2 passkeys for an Android app using Python, covering assetlinks.json, data serialization, and Base64URL encoding.\\\",\\\"datePublished\\\":\\\"2025-05-14T00:00:00.000Z\\\",\\\"dateModified\\\":\\\"2025-05-14T00:00:00.000Z\\\",\\\"author\\\":{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Augustin Chan\\\",\\\"url\\\":\\\"https://augustinchan.dev\\\",\\\"sameAs\\\":[\\\"https://x.com/augchan42\\\",\\\"https://github.com/augchan42\\\"]},\\\"publisher\\\":{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Augustin Chan\\\",\\\"url\\\":\\\"https://augustinchan.dev\\\"},\\\"url\\\":\\\"https://augustinchan.dev/posts/2025-05-14-Challenges-with-Passkey-Android\\\",\\\"mainEntityOfPage\\\":{\\\"@type\\\":\\\"WebPage\\\",\\\"@id\\\":\\\"https://augustinchan.dev/posts/2025-05-14-Challenges-with-Passkey-Android\\\"},\\\"image\\\":\\\"https://augustinchan.dev/img/Xrn0Id68_400x400.jpg\\\"}\"}}],[\"$\",\"article\",null,{\"children\":[[\"$\",\"header\",null,{\"style\":{\"marginBottom\":\"2rem\"},\"children\":[[\"$\",\"h1\",null,{\"style\":{\"fontSize\":\"2.5em\",\"marginBottom\":\"0.5rem\"},\"children\":\"FIDO2 Passkeys for Android: Backend Challenges in Python\"}],[\"$\",\"div\",null,{\"style\":{\"color\":\"#666\",\"fontSize\":\"1em\",\"marginBottom\":\"1rem\"},\"children\":\"May 14, 2025\"}],[\"$\",\"p\",null,{\"style\":{\"fontSize\":\"1.1em\",\"color\":\"#555\",\"fontStyle\":\"italic\",\"marginBottom\":\"2rem\"},\"children\":\"A developer's journey through the challenges of implementing FIDO2 passkeys for an Android app using Python, covering assetlinks.json, data serialization, and Base64URL encoding.\"}]]}],[\"$\",\"$L16\",null,{\"content\":\"$17\"}],\"$L18\"]}]]\n"])</script><script>self.__next_f.push([1,"18:[\"$\",\"aside\",null,{\"style\":{\"marginTop\":\"4rem\",\"paddingTop\":\"2rem\",\"borderTop\":\"2px solid #ddd\"},\"children\":[[\"$\",\"h2\",null,{\"style\":{\"fontSize\":\"1.5em\",\"marginBottom\":\"1.5rem\"},\"children\":\"Related Posts\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"flex\",\"flexDirection\":\"column\",\"gap\":\"1.5rem\"},\"children\":[[\"$\",\"article\",\"2025-09-27-llm-reasoning-pattern-classification-failure-modes\",{\"style\":{\"padding\":\"1.25rem\",\"border\":\"1px solid #ddd\",\"borderRadius\":\"8px\",\"backgroundColor\":\"#fafafa\"},\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/posts/2025-09-27-llm-reasoning-pattern-classification-failure-modes\",\"style\":{\"fontSize\":\"1.1em\",\"fontWeight\":\"bold\",\"textDecoration\":\"none\",\"color\":\"#333\"},\"children\":\"When LLM Reasoning Becomes the Pattern - Meta-Classification Failure Modes\"}],[\"$\",\"p\",null,{\"style\":{\"fontSize\":\"0.95em\",\"color\":\"#555\",\"margin\":\"0.5rem 0 0 0\",\"lineHeight\":\"1.5\"},\"children\":\"Hard constraints beat soft self-regulation when an LLM's reasoning converges to a template.\"}],[\"$\",\"div\",null,{\"style\":{\"fontSize\":\"0.85em\",\"color\":\"#888\",\"marginTop\":\"0.5rem\"},\"children\":\"September 27, 2025\"}]]}],[\"$\",\"article\",\"2025-09-21-evolutionary-adrs-first-principles\",{\"style\":{\"padding\":\"1.25rem\",\"border\":\"1px solid #ddd\",\"borderRadius\":\"8px\",\"backgroundColor\":\"#fafafa\"},\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/posts/2025-09-21-evolutionary-adrs-first-principles\",\"style\":{\"fontSize\":\"1.1em\",\"fontWeight\":\"bold\",\"textDecoration\":\"none\",\"color\":\"#333\"},\"children\":\"Evolutionary ADRs: Writing Architecture Decision Records from First Principles\"}],[\"$\",\"p\",null,{\"style\":{\"fontSize\":\"0.95em\",\"color\":\"#555\",\"margin\":\"0.5rem 0 0 0\",\"lineHeight\":\"1.5\"},\"children\":\"Why creating ADRs during development, not before it, leads to more honest and valuable documentation of your architectural decisions.\"}],[\"$\",\"div\",null,{\"style\":{\"fontSize\":\"0.85em\",\"color\":\"#888\",\"marginTop\":\"0.5rem\"},\"children\":\"September 21, 2025\"}]]}],[\"$\",\"article\",\"hello-nextra\",{\"style\":{\"padding\":\"1.25rem\",\"border\":\"1px solid #ddd\",\"borderRadius\":\"8px\",\"backgroundColor\":\"#fafafa\"},\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/posts/hello-nextra\",\"style\":{\"fontSize\":\"1.1em\",\"fontWeight\":\"bold\",\"textDecoration\":\"none\",\"color\":\"#333\"},\"children\":\"Hello Nextra\"}],[\"$\",\"p\",null,{\"style\":{\"fontSize\":\"0.95em\",\"color\":\"#555\",\"margin\":\"0.5rem 0 0 0\",\"lineHeight\":\"1.5\"},\"children\":\"Welcome to my new blog powered by Next.js and Nextra\"}],[\"$\",\"div\",null,{\"style\":{\"fontSize\":\"0.85em\",\"color\":\"#888\",\"marginTop\":\"0.5rem\"},\"children\":\"September 21, 2025\"}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\ne:null\n"])</script><script>self.__next_f.push([1,"10:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"FIDO2 Passkeys for Android: Backend Challenges in Python | Augustin Chan\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"A developer's journey through the challenges of implementing FIDO2 passkeys for an Android app using Python, covering assetlinks.json, data serialization, and Base64URL encoding.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"author\",\"href\":\"https://augustinchan.dev\"}],[\"$\",\"meta\",\"3\",{\"name\":\"author\",\"content\":\"Augustin Chan\"}],[\"$\",\"meta\",\"4\",{\"name\":\"keywords\",\"content\":\"AI,Machine Learning,Web3,Software Engineering,React,Next.js,TypeScript,Blog\"}],[\"$\",\"meta\",\"5\",{\"name\":\"creator\",\"content\":\"Augustin Chan\"}],[\"$\",\"meta\",\"6\",{\"name\":\"publisher\",\"content\":\"Augustin Chan\"}],[\"$\",\"meta\",\"7\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"8\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"link\",\"9\",{\"rel\":\"canonical\",\"href\":\"https://augustinchan.dev/posts/2025-05-14-Challenges-with-Passkey-Android\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:title\",\"content\":\"FIDO2 Passkeys for Android: Backend Challenges in Python\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:description\",\"content\":\"A developer's journey through the challenges of implementing FIDO2 passkeys for an Android app using Python, covering assetlinks.json, data serialization, and Base64URL encoding.\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:url\",\"content\":\"https://augustinchan.dev/posts/2025-05-14-Challenges-with-Passkey-Android\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:site_name\",\"content\":\"Augustin Chan\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image\",\"content\":\"https://augustinchan.dev/img/Xrn0Id68_400x400.jpg\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:image:width\",\"content\":\"400\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:image:height\",\"content\":\"400\"}],[\"$\",\"meta\",\"18\",{\"property\":\"og:image:alt\",\"content\":\"FIDO2 Passkeys for Android: Backend Challenges in Python\"}],[\"$\",\"meta\",\"19\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"20\",{\"property\":\"article:published_time\",\"content\":\"2025-05-14T00:00:00.000Z\"}],[\"$\",\"meta\",\"21\",{\"property\":\"article:author\",\"content\":\"Augustin Chan\"}],[\"$\",\"meta\",\"22\",{\"property\":\"article:section\",\"content\":\"Technology\"}],[\"$\",\"meta\",\"23\",{\"property\":\"article:tag\",\"content\":\"AI\"}],[\"$\",\"meta\",\"24\",{\"property\":\"article:tag\",\"content\":\"Machine Learning\"}],[\"$\",\"meta\",\"25\",{\"property\":\"article:tag\",\"content\":\"Web3\"}],[\"$\",\"meta\",\"26\",{\"property\":\"article:tag\",\"content\":\"Software Engineering\"}],[\"$\",\"meta\",\"27\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"28\",{\"name\":\"twitter:creator\",\"content\":\"@augchan42\"}],[\"$\",\"meta\",\"29\",{\"name\":\"twitter:title\",\"content\":\"FIDO2 Passkeys for Android: Backend Challenges in Python\"}],[\"$\",\"meta\",\"30\",{\"name\":\"twitter:description\",\"content\":\"A developer's journey through the challenges of implementing FIDO2 passkeys for an Android app using Python, covering assetlinks.json, data serialization, and Base64URL encoding.\"}],[\"$\",\"meta\",\"31\",{\"name\":\"twitter:image\",\"content\":\"https://augustinchan.dev/img/Xrn0Id68_400x400.jpg\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"15:\"$10:metadata\"\n"])</script></body></html>
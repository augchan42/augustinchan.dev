<!DOCTYPE html><!--cayiHX042m2a2Uzz6E0mG--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/d030d367e034049b.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-6e1697fef140febb.js"/><script src="/_next/static/chunks/72d9b9fe-881c608dfd3d6075.js" async=""></script><script src="/_next/static/chunks/59-ac558f0723878dde.js" async=""></script><script src="/_next/static/chunks/main-app-52c49b64f0218f99.js" async=""></script><script src="/_next/static/chunks/102969c4-60ccef36263800a0.js" async=""></script><script src="/_next/static/chunks/64d1c0c4-a3ef1c2074d5cee5.js" async=""></script><script src="/_next/static/chunks/205-e96f68d7203b15f6.js" async=""></script><script src="/_next/static/chunks/3-63e812f17dc5f3c8.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bslug%5D/page-149ed8916e948834.js" async=""></script><script src="/_next/static/chunks/app/layout-6e1c24235b3dba30.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-077BT1Q7PJ" as="script"/><title>Getting Browser Tools MCP Server Working with Claude Code: A Simple 2-Step Solution | Augustin Chan</title><meta name="description" content="Quick guide to configure browser-tools-mcp AgentDeskAI with Claude Code - solving connection issues and getting your MCP server properly integrated."/><link rel="author" href="https://augustinchan.dev"/><meta name="author" content="Augustin Chan"/><meta name="keywords" content="AI,Machine Learning,Web3,Software Engineering,React,Next.js,TypeScript,Blog"/><meta name="creator" content="Augustin Chan"/><meta name="publisher" content="Augustin Chan"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><link rel="canonical" href="https://augustinchan.dev/posts/2025-08-02-configuring-browser-tools-mcp-claude-code"/><meta property="og:title" content="Getting Browser Tools MCP Server Working with Claude Code: A Simple 2-Step Solution"/><meta property="og:description" content="Quick guide to configure browser-tools-mcp AgentDeskAI with Claude Code - solving connection issues and getting your MCP server properly integrated."/><meta property="og:url" content="https://augustinchan.dev/posts/2025-08-02-configuring-browser-tools-mcp-claude-code"/><meta property="og:site_name" content="Augustin Chan"/><meta property="og:locale" content="en_US"/><meta property="og:image" content="https://augustinchan.dev/img/Xrn0Id68_400x400.jpg"/><meta property="og:image:width" content="400"/><meta property="og:image:height" content="400"/><meta property="og:image:alt" content="Getting Browser Tools MCP Server Working with Claude Code: A Simple 2-Step Solution"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-08-02T00:00:00.000Z"/><meta property="article:author" content="Augustin Chan"/><meta property="article:section" content="Technology"/><meta property="article:tag" content="AI"/><meta property="article:tag" content="Machine Learning"/><meta property="article:tag" content="Web3"/><meta property="article:tag" content="Software Engineering"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@augchan42"/><meta name="twitter:title" content="Getting Browser Tools MCP Server Working with Claude Code: A Simple 2-Step Solution"/><meta name="twitter:description" content="Quick guide to configure browser-tools-mcp AgentDeskAI with Claude Code - solving connection issues and getting your MCP server properly integrated."/><meta name="twitter:image" content="https://augustinchan.dev/img/Xrn0Id68_400x400.jpg"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><div hidden=""><!--$--><!--/$--></div><div style="max-width:1000px;margin:0 auto;padding:2rem"><header style="border-bottom:2px solid #333;padding-bottom:1rem;margin-bottom:2rem"><nav style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem"><div><a style="font-size:1.6rem;font-weight:bold;text-decoration:none;color:#333" href="/">Augustin Chan</a><div style="margin-top:0.5rem">Building systems that reason</div></div><div style="display:flex;gap:1.5rem;flex-wrap:wrap"><a href="/#projects" style="text-decoration:none;color:#666">Portfolio</a><a style="text-decoration:none;color:#666" href="/blog">Blog</a><a href="https://8bitoracle.ai" target="_blank" rel="noopener noreferrer" style="text-decoration:none;color:#666">8-Bit Oracle</a></div></nav></header><main><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Getting Browser Tools MCP Server Working with Claude Code: A Simple 2-Step Solution","description":"Quick guide to configure browser-tools-mcp AgentDeskAI with Claude Code - solving connection issues and getting your MCP server properly integrated.","datePublished":"2025-08-02T00:00:00.000Z","dateModified":"2025-08-02T00:00:00.000Z","author":{"@type":"Person","name":"Augustin Chan","url":"https://augustinchan.dev","sameAs":["https://x.com/augchan42","https://github.com/augchan42"]},"publisher":{"@type":"Person","name":"Augustin Chan","url":"https://augustinchan.dev"},"url":"https://augustinchan.dev/posts/2025-08-02-configuring-browser-tools-mcp-claude-code","mainEntityOfPage":{"@type":"WebPage","@id":"https://augustinchan.dev/posts/2025-08-02-configuring-browser-tools-mcp-claude-code"},"image":"https://augustinchan.dev/img/Xrn0Id68_400x400.jpg"}</script><article><header style="margin-bottom:2rem"><h1 style="font-size:2.5em;margin-bottom:0.5rem">Getting Browser Tools MCP Server Working with Claude Code: A Simple 2-Step Solution</h1><div style="color:#666;font-size:1em;margin-bottom:1rem">August 2, 2025</div><p style="font-size:1.1em;color:#555;font-style:italic;margin-bottom:2rem">Quick guide to configure browser-tools-mcp AgentDeskAI with Claude Code - solving connection issues and getting your MCP server properly integrated.</p></header><div>Loading...</div><aside style="margin-top:4rem;padding-top:2rem;border-top:2px solid #ddd"><h2 style="font-size:1.5em;margin-bottom:1.5rem">Related Posts</h2><div style="display:flex;flex-direction:column;gap:1.5rem"><article style="padding:1.25rem;border:1px solid #ddd;border-radius:8px;background-color:#fafafa"><a style="font-size:1.1em;font-weight:bold;text-decoration:none;color:#333" href="/posts/2025-09-27-llm-reasoning-pattern-classification-failure-modes">When LLM Reasoning Becomes the Pattern - Meta-Classification Failure Modes</a><p style="font-size:0.95em;color:#555;margin:0.5rem 0 0 0;line-height:1.5">Hard constraints beat soft self-regulation when an LLM&#x27;s reasoning converges to a template.</p><div style="font-size:0.85em;color:#888;margin-top:0.5rem">September 27, 2025</div></article><article style="padding:1.25rem;border:1px solid #ddd;border-radius:8px;background-color:#fafafa"><a style="font-size:1.1em;font-weight:bold;text-decoration:none;color:#333" href="/posts/2025-09-21-evolutionary-adrs-first-principles">Evolutionary ADRs: Writing Architecture Decision Records from First Principles</a><p style="font-size:0.95em;color:#555;margin:0.5rem 0 0 0;line-height:1.5">Why creating ADRs during development, not before it, leads to more honest and valuable documentation of your architectural decisions.</p><div style="font-size:0.85em;color:#888;margin-top:0.5rem">September 21, 2025</div></article><article style="padding:1.25rem;border:1px solid #ddd;border-radius:8px;background-color:#fafafa"><a style="font-size:1.1em;font-weight:bold;text-decoration:none;color:#333" href="/posts/hello-nextra">Hello Nextra</a><p style="font-size:0.95em;color:#555;margin:0.5rem 0 0 0;line-height:1.5">Welcome to my new blog powered by Next.js and Nextra</p><div style="font-size:0.85em;color:#888;margin-top:0.5rem">September 21, 2025</div></article></div></aside></article><!--$--><!--/$--></main><footer style="border-top:1px solid #ddd;padding-top:2rem;margin-top:4rem;text-align:center;color:#666">Â© 2025 Augustin Chan aug@digitalrain.studio</footer></div><script>
            // Service worker cleanup for legacy site versions
            if ('serviceWorker' in navigator) {
              navigator.serviceWorker.getRegistrations().then(function(registrations) {
                for(let registration of registrations) {
                  registration.unregister();
                }
              });

              // Register cleanup service worker
              navigator.serviceWorker.register('/sw.js').then(function(registration) {
                console.log('Cleanup SW registered');
              }).catch(function(error) {
                console.log('Cleanup SW registration failed');
              });
            }
          </script><script src="/_next/static/chunks/webpack-6e1697fef140febb.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[9586,[\"97\",\"static/chunks/102969c4-60ccef36263800a0.js\",\"28\",\"static/chunks/64d1c0c4-a3ef1c2074d5cee5.js\",\"205\",\"static/chunks/205-e96f68d7203b15f6.js\",\"3\",\"static/chunks/3-63e812f17dc5f3c8.js\",\"858\",\"static/chunks/app/posts/%5Bslug%5D/page-149ed8916e948834.js\"],\"\"]\n3:I[4308,[],\"\"]\n4:I[834,[],\"\"]\n5:I[560,[\"205\",\"static/chunks/205-e96f68d7203b15f6.js\",\"177\",\"static/chunks/app/layout-6e1c24235b3dba30.js\"],\"\"]\n6:I[8641,[\"205\",\"static/chunks/205-e96f68d7203b15f6.js\",\"177\",\"static/chunks/app/layout-6e1c24235b3dba30.js\"],\"Analytics\"]\nb:I[9216,[],\"\"]\n:HL[\"/_next/static/css/d030d367e034049b.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"cayiHX042m2a2Uzz6E0mG\",\"p\":\"\",\"c\":[\"\",\"posts\",\"2025-08-02-configuring-browser-tools-mcp-claude-code\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"2025-08-02-configuring-browser-tools-mcp-claude-code\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d030d367e034049b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"div\",null,{\"style\":{\"maxWidth\":\"1000px\",\"margin\":\"0 auto\",\"padding\":\"2rem\"},\"children\":[[\"$\",\"header\",null,{\"style\":{\"borderBottom\":\"2px solid #333\",\"paddingBottom\":\"1rem\",\"marginBottom\":\"2rem\"},\"children\":[\"$\",\"nav\",null,{\"style\":{\"display\":\"flex\",\"justifyContent\":\"space-between\",\"alignItems\":\"center\",\"flexWrap\":\"wrap\",\"gap\":\"1rem\"},\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/\",\"style\":{\"fontSize\":\"1.6rem\",\"fontWeight\":\"bold\",\"textDecoration\":\"none\",\"color\":\"#333\"},\"children\":\"Augustin Chan\"}],[\"$\",\"div\",null,{\"style\":{\"marginTop\":\"0.5rem\"},\"children\":\"Building systems that reason\"}]]}],[\"$\",\"div\",null,{\"style\":{\"display\":\"flex\",\"gap\":\"1.5rem\",\"flexWrap\":\"wrap\"},\"children\":[[\"$\",\"a\",null,{\"href\":\"/#projects\",\"style\":{\"textDecoration\":\"none\",\"color\":\"#666\"},\"children\":\"Portfolio\"}],[\"$\",\"$L2\",null,{\"href\":\"/blog\",\"style\":{\"textDecoration\":\"none\",\"color\":\"#666\"},\"children\":\"Blog\"}],[\"$\",\"a\",null,{\"href\":\"https://8bitoracle.ai\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"style\":{\"textDecoration\":\"none\",\"color\":\"#666\"},\"children\":\"8-Bit Oracle\"}]]}]]}]}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"style\":{\"borderTop\":\"1px solid #ddd\",\"paddingTop\":\"2rem\",\"marginTop\":\"4rem\",\"textAlign\":\"center\",\"color\":\"#666\"},\"children\":\"Â© 2025 Augustin Chan aug@digitalrain.studio\"}]]}],[[\"$\",\"$L5\",null,{\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-077BT1Q7PJ\",\"strategy\":\"afterInteractive\"}],[\"$\",\"$L5\",null,{\"id\":\"google-analytics\",\"strategy\":\"afterInteractive\",\"children\":\"\\n          window.dataLayer = window.dataLayer || [];\\n          function gtag(){dataLayer.push(arguments);}\\n          gtag('js', new Date());\\n          gtag('config', 'G-077BT1Q7PJ');\\n        \"}]],[\"$\",\"$L6\",null,{}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n            // Service worker cleanup for legacy site versions\\n            if ('serviceWorker' in navigator) {\\n              navigator.serviceWorker.getRegistrations().then(function(registrations) {\\n                for(let registration of registrations) {\\n                  registration.unregister();\\n                }\\n              });\\n\\n              // Register cleanup service worker\\n              navigator.serviceWorker.register('/sw.js').then(function(registration) {\\n                console.log('Cleanup SW registered');\\n              }).catch(function(error) {\\n                console.log('Cleanup SW registration failed');\\n              });\\n            }\\n          \"}}]]}]}]]}],{\"children\":[\"posts\",\"$L7\",{\"children\":[[\"slug\",\"2025-08-02-configuring-browser-tools-mcp-claude-code\",\"d\"],\"$L8\",{\"children\":[\"__PAGE__\",\"$L9\",{},null,false]},null,false]},null,false]},null,false],\"$La\",false]],\"m\":\"$undefined\",\"G\":[\"$b\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"d:I[7921,[],\"OutletBoundary\"]\nf:I[2140,[],\"AsyncMetadataOutlet\"]\n11:I[7921,[],\"ViewportBoundary\"]\n13:I[7921,[],\"MetadataBoundary\"]\n14:\"$Sreact.suspense\"\n7:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n8:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n9:[\"$\",\"$1\",\"c\",{\"children\":[\"$Lc\",null,[\"$\",\"$Ld\",null,{\"children\":[\"$Le\",[\"$\",\"$Lf\",null,{\"promise\":\"$@10\"}]]}]]}]\na:[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$L11\",null,{\"children\":\"$L12\"}],null],[\"$\",\"$L13\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$14\",null,{\"fallback\":null,\"children\":\"$L15\"}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"16:I[7702,[\"97\",\"static/chunks/102969c4-60ccef36263800a0.js\",\"28\",\"static/chunks/64d1c0c4-a3ef1c2074d5cee5.js\",\"205\",\"static/chunks/205-e96f68d7203b15f6.js\",\"3\",\"static/chunks/3-63e812f17dc5f3c8.js\",\"858\",\"static/chunks/app/posts/%5Bslug%5D/page-149ed8916e948834.js\"],\"default\",1]\n17:T2483,"])</script><script>self.__next_f.push([1,"\n\n**Abstract:**  \nThis post provides a straightforward solution for configuring the browser-tools MCP server with Claude Code. When your MCP server fails to connect with `claude mcp list`, the issue is typically that Claude doesn't know how to find or start the server. This guide walks through the simple 2-step process to get everything working properly.\n\n**Estimated reading time:** _3 minutes_\n\nGetting MCP servers properly configured can sometimes be tricky, especially when dealing with stdio-based servers like the browser-tools MCP from AgentDeskAI. This post addresses a common issue where the MCP server appears to be failing to connect, when in reality it just needs to be properly registered with Claude.\n\n## The Problem: MCP Server Connection Failures\n\nWhen you run `claude mcp list` and see connection failures for your browser-tools MCP server, it's easy to assume there's a complex networking or configuration issue. However, the root cause is often much simpler: **Claude doesn't know how to find or start the MCP server**.\n\nThe browser-tools MCP server from AgentDeskAI is a stdio-based server, which means it communicates via stdin/stdout rather than listening on network ports. This type of server requires explicit registration with Claude to work properly.\n\n**Important clarification:** There are actually two separate server components in the browser-tools ecosystem:\n\n1. **`@agentdeskai/browser-tools-mcp`** - This is the **MCP Server** that implements the Model Context Protocol and provides standardized tools for AI clients.\n\n2. **`@agentdeskai/browser-tools-server`** - This is the **Node.js middleware server** that acts as a bridge between the MCP server and the Chrome extension. It handles the actual browser tools functionality like gathering logs, taking screenshots, and running audits.\n\nThe complete architecture flows like this: **Claude Code (MCP Client)** â MCP Server â Node Server â Chrome Extension â Browser\n\n## The Solution: 2 Simple Steps\n\n### Step 1: Verify the MCP Server and Node Server are Working\n\nFirst, let's confirm that both server components are functioning correctly (this assumes you've already installed the browser extension as described in https://browsertools.agentdesk.ai/installation):\n\n**Start the Node.js middleware server:**\n```bash\nnpx @agentdeskai/browser-tools-server@1.2.0\n```\n\n**Test the MCP server independently:**\n```bash\nnpx @agentdeskai/browser-tools-mcp@latest\n```\n\n**Expected behavior:** The server should output discovery messages and then appear to \"hang\" - this is actually normal behavior. The server is waiting for MCP protocol communication via stdin/stdout.\n\n**Example output:**\n\n```\n(node:241865) ExperimentalWarning: CommonJS module /home/hosermage/.nvm/versions/node/v23.3.0/lib/node_modules/npm/node_modules/debug/src/node.js is loading ES Module /home/hosermage/.nvm/versions/node/v23.3.0/lib/node_modules/npm/node_modules/supports-color/index.js using require().\nSupport for loading ES Module in require() is an experimental feature and might change at any time\n(Use `node --trace-warnings ...` to show where the warning was created)\nAttempting initial server discovery on startup...\nStarting server discovery process\nWill try hosts: 127.0.0.1, 127.0.0.1, localhost\nWill try ports: 3025, 3026, 3027, 3028, 3029, 3030, 3031, 3032, 3033, 3034, 3035\nChecking 127.0.0.1:3025...\nSuccessfully found server at 127.0.0.1:3025\nSuccessfully discovered server at 127.0.0.1:3025\n```\n\nThis output shows that the MCP server is:\n\n1. **Performing server discovery** - scanning localhost on ports 3025-3035\n2. **Finding the Node.js middleware server** - successfully connecting to the HTTP server at `127.0.0.1:3025`\n3. **Ready for MCP communication** - waiting for protocol messages via stdin/stdout\n\nThe \"hang\" at the end is expected - the MCP server is waiting for MCP protocol input. You can safely terminate this process with Ctrl+C once you've confirmed it's working.\n\n**Important:** The MCP server needs the Node.js middleware server (`browser-tools-server`) to be running first, as it acts as the bridge between the MCP server and the Chrome extension.\n\nIf you see error messages or the server exits immediately, there might be an issue with the installation or dependencies. In that case, ensure you have Node.js installed and try reinstalling the package.\n\n### Step 2: Add the MCP Server to Claude\n\nThe key step is registering the MCP server with Claude so it knows how to start and communicate with it:\n\n```bash\nclaude mcp add browser-tools npx -- @agentdeskai/browser-tools-mcp@latest\n```\n\n**Important details:**\n\n- **Server name:** `browser-tools` (you can choose any name you prefer)\n- **Command:** `npx -- @agentdeskai/browser-tools-mcp@latest`\n- **Double dash (`--`):** This is crucial - it properly separates the npx arguments from the claude mcp arguments\n\n## Key Technical Points\n\n### Understanding the Two-Server Architecture\n\nThe browser-tools system uses a two-server design that separates concerns:\n\n- **MCP Server (`browser-tools-mcp`):** Handles the Model Context Protocol communication with Claude Code (the MCP client) via stdin/stdout\n- **Node.js Server (`browser-tools-server`):** Acts as middleware that communicates with the Chrome extension and provides the actual browser tools functionality\n\nThis design has several advantages:\n- **Separation of concerns:** The MCP server focuses on protocol handling, while the Node.js server handles browser interactions\n- **Flexibility:** The Node.js server can be used independently by other tools\n- **Reliability:** If the MCP server restarts, the Node.js server continues running\n\n### The Role of the Double Dash\n\nThe `--` in the command is essential because it tells the shell to treat everything after it as arguments to the `npx` command, rather than arguments to the `claude mcp add` command. Without it, the command parsing can fail.\n\n### How the Servers Work Together\n\nThe MCP server connects to the Node.js server (typically running on port 3025) for the actual browser tools functionality. The Node.js server acts as a bridge between the MCP server and the Chrome extension, handling tasks like taking screenshots, gathering console logs, and running audits.\n\n**Important Prerequisite:** Before Claude Code can access browser windows via browser-tools, you need to have the browser's developer tools opened. This is required for the browser tools to establish the necessary connection and permissions to interact with the page.\n\n### What Happens When Claude Runs the Server\n\nWhen you register the MCP server with Claude Code, Claude spawns its own instance of the same process. This new instance goes through the exact same discovery process you witnessed when running it directly:\n\n1. **Same discovery messages** - Claude's instance will show the same server discovery output\n2. **Same connection to browser tools** - It will find and connect to the same HTTP server at `127.0.0.1:3025`\n3. **Active MCP communication** - Unlike the direct command line version that \"hangs\" waiting for input, Claude actively communicates with the server using the MCP protocol\n\nThe key difference is that when you run it directly from the command line, it's just sitting there waiting for MCP protocol input (which is why it appears to \"hang\"). When Claude runs it, Claude actively communicates with it using the MCP protocol for browser automation tasks.\n\n## Verification\n\nAfter completing both steps, verify the configuration:\n\n```bash\nclaude mcp list\n```\n\nYou should now see output similar to:\n\n```\nbrowser-tools: npx @agentdeskai/browser-tools-mcp@latest - â Connected\n```\n\nThe checkmark indicates that Claude can successfully start and communicate with the MCP server.\n\n## Troubleshooting Common Issues\n\n### Server Still Shows as Disconnected\n\nIf the server still appears disconnected after following the steps:\n\n1. **Check the command syntax:** Ensure the double dash is present and the package name is correct\n2. **Verify Node.js installation:** The server requires Node.js to run\n3. **Check for conflicting processes:** Ensure no other instances of the server are running\n4. **Review Claude logs:** Look for any error messages in Claude's output\n\n### Permission Issues\n\nIf you encounter permission errors:\n\n1. **Check file permissions:** Ensure the npx command can execute\n2. **Try global installation:** As an alternative, you can install the package globally and reference it directly\n3. **Verify PATH:** Ensure npx is in your system PATH\n\n## Conclusion\n\nConfiguring MCP servers with Claude Code doesn't have to be complicated. The key insight is understanding that the browser-tools system uses a two-server architecture where both components need to be running for everything to work properly. By following these two simple steps - starting the Node.js middleware server and then registering the MCP server with Claude - you can quickly get your browser tools up and running.\n\nThe browser-tools system is now ready to provide browser automation functionality through Claude Code, enabling powerful AI-assisted web interactions and testing scenarios.\n\n---\n\n_This configuration approach applies to other stdio-based MCP servers as well. The same principles of verification and registration can be used for any MCP server that communicates via stdin/stdout rather than network protocols._\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BlogPosting\\\",\\\"headline\\\":\\\"Getting Browser Tools MCP Server Working with Claude Code: A Simple 2-Step Solution\\\",\\\"description\\\":\\\"Quick guide to configure browser-tools-mcp AgentDeskAI with Claude Code - solving connection issues and getting your MCP server properly integrated.\\\",\\\"datePublished\\\":\\\"2025-08-02T00:00:00.000Z\\\",\\\"dateModified\\\":\\\"2025-08-02T00:00:00.000Z\\\",\\\"author\\\":{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Augustin Chan\\\",\\\"url\\\":\\\"https://augustinchan.dev\\\",\\\"sameAs\\\":[\\\"https://x.com/augchan42\\\",\\\"https://github.com/augchan42\\\"]},\\\"publisher\\\":{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Augustin Chan\\\",\\\"url\\\":\\\"https://augustinchan.dev\\\"},\\\"url\\\":\\\"https://augustinchan.dev/posts/2025-08-02-configuring-browser-tools-mcp-claude-code\\\",\\\"mainEntityOfPage\\\":{\\\"@type\\\":\\\"WebPage\\\",\\\"@id\\\":\\\"https://augustinchan.dev/posts/2025-08-02-configuring-browser-tools-mcp-claude-code\\\"},\\\"image\\\":\\\"https://augustinchan.dev/img/Xrn0Id68_400x400.jpg\\\"}\"}}],[\"$\",\"article\",null,{\"children\":[[\"$\",\"header\",null,{\"style\":{\"marginBottom\":\"2rem\"},\"children\":[[\"$\",\"h1\",null,{\"style\":{\"fontSize\":\"2.5em\",\"marginBottom\":\"0.5rem\"},\"children\":\"Getting Browser Tools MCP Server Working with Claude Code: A Simple 2-Step Solution\"}],[\"$\",\"div\",null,{\"style\":{\"color\":\"#666\",\"fontSize\":\"1em\",\"marginBottom\":\"1rem\"},\"children\":\"August 2, 2025\"}],[\"$\",\"p\",null,{\"style\":{\"fontSize\":\"1.1em\",\"color\":\"#555\",\"fontStyle\":\"italic\",\"marginBottom\":\"2rem\"},\"children\":\"Quick guide to configure browser-tools-mcp AgentDeskAI with Claude Code - solving connection issues and getting your MCP server properly integrated.\"}]]}],[\"$\",\"$L16\",null,{\"content\":\"$17\"}],\"$L18\"]}]]\n"])</script><script>self.__next_f.push([1,"18:[\"$\",\"aside\",null,{\"style\":{\"marginTop\":\"4rem\",\"paddingTop\":\"2rem\",\"borderTop\":\"2px solid #ddd\"},\"children\":[[\"$\",\"h2\",null,{\"style\":{\"fontSize\":\"1.5em\",\"marginBottom\":\"1.5rem\"},\"children\":\"Related Posts\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"flex\",\"flexDirection\":\"column\",\"gap\":\"1.5rem\"},\"children\":[[\"$\",\"article\",\"2025-09-27-llm-reasoning-pattern-classification-failure-modes\",{\"style\":{\"padding\":\"1.25rem\",\"border\":\"1px solid #ddd\",\"borderRadius\":\"8px\",\"backgroundColor\":\"#fafafa\"},\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/posts/2025-09-27-llm-reasoning-pattern-classification-failure-modes\",\"style\":{\"fontSize\":\"1.1em\",\"fontWeight\":\"bold\",\"textDecoration\":\"none\",\"color\":\"#333\"},\"children\":\"When LLM Reasoning Becomes the Pattern - Meta-Classification Failure Modes\"}],[\"$\",\"p\",null,{\"style\":{\"fontSize\":\"0.95em\",\"color\":\"#555\",\"margin\":\"0.5rem 0 0 0\",\"lineHeight\":\"1.5\"},\"children\":\"Hard constraints beat soft self-regulation when an LLM's reasoning converges to a template.\"}],[\"$\",\"div\",null,{\"style\":{\"fontSize\":\"0.85em\",\"color\":\"#888\",\"marginTop\":\"0.5rem\"},\"children\":\"September 27, 2025\"}]]}],[\"$\",\"article\",\"2025-09-21-evolutionary-adrs-first-principles\",{\"style\":{\"padding\":\"1.25rem\",\"border\":\"1px solid #ddd\",\"borderRadius\":\"8px\",\"backgroundColor\":\"#fafafa\"},\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/posts/2025-09-21-evolutionary-adrs-first-principles\",\"style\":{\"fontSize\":\"1.1em\",\"fontWeight\":\"bold\",\"textDecoration\":\"none\",\"color\":\"#333\"},\"children\":\"Evolutionary ADRs: Writing Architecture Decision Records from First Principles\"}],[\"$\",\"p\",null,{\"style\":{\"fontSize\":\"0.95em\",\"color\":\"#555\",\"margin\":\"0.5rem 0 0 0\",\"lineHeight\":\"1.5\"},\"children\":\"Why creating ADRs during development, not before it, leads to more honest and valuable documentation of your architectural decisions.\"}],[\"$\",\"div\",null,{\"style\":{\"fontSize\":\"0.85em\",\"color\":\"#888\",\"marginTop\":\"0.5rem\"},\"children\":\"September 21, 2025\"}]]}],[\"$\",\"article\",\"hello-nextra\",{\"style\":{\"padding\":\"1.25rem\",\"border\":\"1px solid #ddd\",\"borderRadius\":\"8px\",\"backgroundColor\":\"#fafafa\"},\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/posts/hello-nextra\",\"style\":{\"fontSize\":\"1.1em\",\"fontWeight\":\"bold\",\"textDecoration\":\"none\",\"color\":\"#333\"},\"children\":\"Hello Nextra\"}],[\"$\",\"p\",null,{\"style\":{\"fontSize\":\"0.95em\",\"color\":\"#555\",\"margin\":\"0.5rem 0 0 0\",\"lineHeight\":\"1.5\"},\"children\":\"Welcome to my new blog powered by Next.js and Nextra\"}],[\"$\",\"div\",null,{\"style\":{\"fontSize\":\"0.85em\",\"color\":\"#888\",\"marginTop\":\"0.5rem\"},\"children\":\"September 21, 2025\"}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\ne:null\n"])</script><script>self.__next_f.push([1,"10:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Getting Browser Tools MCP Server Working with Claude Code: A Simple 2-Step Solution | Augustin Chan\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Quick guide to configure browser-tools-mcp AgentDeskAI with Claude Code - solving connection issues and getting your MCP server properly integrated.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"author\",\"href\":\"https://augustinchan.dev\"}],[\"$\",\"meta\",\"3\",{\"name\":\"author\",\"content\":\"Augustin Chan\"}],[\"$\",\"meta\",\"4\",{\"name\":\"keywords\",\"content\":\"AI,Machine Learning,Web3,Software Engineering,React,Next.js,TypeScript,Blog\"}],[\"$\",\"meta\",\"5\",{\"name\":\"creator\",\"content\":\"Augustin Chan\"}],[\"$\",\"meta\",\"6\",{\"name\":\"publisher\",\"content\":\"Augustin Chan\"}],[\"$\",\"meta\",\"7\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"8\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"link\",\"9\",{\"rel\":\"canonical\",\"href\":\"https://augustinchan.dev/posts/2025-08-02-configuring-browser-tools-mcp-claude-code\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:title\",\"content\":\"Getting Browser Tools MCP Server Working with Claude Code: A Simple 2-Step Solution\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:description\",\"content\":\"Quick guide to configure browser-tools-mcp AgentDeskAI with Claude Code - solving connection issues and getting your MCP server properly integrated.\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:url\",\"content\":\"https://augustinchan.dev/posts/2025-08-02-configuring-browser-tools-mcp-claude-code\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:site_name\",\"content\":\"Augustin Chan\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image\",\"content\":\"https://augustinchan.dev/img/Xrn0Id68_400x400.jpg\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:image:width\",\"content\":\"400\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:image:height\",\"content\":\"400\"}],[\"$\",\"meta\",\"18\",{\"property\":\"og:image:alt\",\"content\":\"Getting Browser Tools MCP Server Working with Claude Code: A Simple 2-Step Solution\"}],[\"$\",\"meta\",\"19\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"20\",{\"property\":\"article:published_time\",\"content\":\"2025-08-02T00:00:00.000Z\"}],[\"$\",\"meta\",\"21\",{\"property\":\"article:author\",\"content\":\"Augustin Chan\"}],[\"$\",\"meta\",\"22\",{\"property\":\"article:section\",\"content\":\"Technology\"}],[\"$\",\"meta\",\"23\",{\"property\":\"article:tag\",\"content\":\"AI\"}],[\"$\",\"meta\",\"24\",{\"property\":\"article:tag\",\"content\":\"Machine Learning\"}],[\"$\",\"meta\",\"25\",{\"property\":\"article:tag\",\"content\":\"Web3\"}],[\"$\",\"meta\",\"26\",{\"property\":\"article:tag\",\"content\":\"Software Engineering\"}],[\"$\",\"meta\",\"27\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"28\",{\"name\":\"twitter:creator\",\"content\":\"@augchan42\"}],[\"$\",\"meta\",\"29\",{\"name\":\"twitter:title\",\"content\":\"Getting Browser Tools MCP Server Working with Claude Code: A Simple 2-Step Solution\"}],[\"$\",\"meta\",\"30\",{\"name\":\"twitter:description\",\"content\":\"Quick guide to configure browser-tools-mcp AgentDeskAI with Claude Code - solving connection issues and getting your MCP server properly integrated.\"}],[\"$\",\"meta\",\"31\",{\"name\":\"twitter:image\",\"content\":\"https://augustinchan.dev/img/Xrn0Id68_400x400.jpg\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"15:\"$10:metadata\"\n"])</script></body></html>